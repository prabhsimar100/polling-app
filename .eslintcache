[{"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\index.js":"1","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\App.js":"2","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\index.js":"3","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Navigation.js":"4","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\profile.js":"5","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\forpass.js":"6","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\running.js":"7","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\landing.js":"8","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\passchange.js":"9","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\signup.js":"10","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\login.js":"11","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\completed.js":"12","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\create.js":"13","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\context.js":"14","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\index.js":"15","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\firebase.js":"16","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Signup.js":"17","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Login.js":"18","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Create.js":"19","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\context.js":"20","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\withAuthentication.js":"21"},{"size":339,"mtime":1611169960300,"results":"22","hashOfConfig":"23"},{"size":2312,"mtime":1612811758602,"results":"24","hashOfConfig":"23"},{"size":192,"mtime":1612127377463,"results":"25","hashOfConfig":"23"},{"size":1504,"mtime":1612811758608,"results":"26","hashOfConfig":"23"},{"size":314,"mtime":1610910539599,"results":"27","hashOfConfig":"23"},{"size":322,"mtime":1610910539597,"results":"28","hashOfConfig":"23"},{"size":314,"mtime":1610910539600,"results":"29","hashOfConfig":"23"},{"size":1664,"mtime":1612893157798,"results":"30","hashOfConfig":"23"},{"size":325,"mtime":1610910539599,"results":"31","hashOfConfig":"23"},{"size":282,"mtime":1612811758643,"results":"32","hashOfConfig":"23"},{"size":225,"mtime":1612811758609,"results":"33","hashOfConfig":"23"},{"size":318,"mtime":1610910539596,"results":"34","hashOfConfig":"23"},{"size":347,"mtime":1612273396644,"results":"35","hashOfConfig":"23"},{"size":308,"mtime":1611169386713,"results":"36","hashOfConfig":"23"},{"size":340,"mtime":1612127387561,"results":"37","hashOfConfig":"23"},{"size":1450,"mtime":1611345575542,"results":"38","hashOfConfig":"23"},{"size":5638,"mtime":1612127387562,"results":"39","hashOfConfig":"23"},{"size":4347,"mtime":1612127387560,"results":"40","hashOfConfig":"23"},{"size":6688,"mtime":1612815002400,"results":"41","hashOfConfig":"23"},{"size":117,"mtime":1612127387561,"results":"42","hashOfConfig":"23"},{"size":948,"mtime":1612127387561,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1os7l0o",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"46"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\index.js",[],["91","92"],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\App.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\index.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Navigation.js",["93"],"import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {withAuth} from './Session';\r\nimport { withFirebase } from \"./Firebase\";\r\n\r\n\r\n//MUI stuff\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass Navigation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }  \r\n  render() {\r\n    return (\r\n      <AppBar>\r\n        <Toolbar className=\"nav-container\">\r\n          {this.props.authUser ? NavigationAuth(this.props.firebase) : NavigationNonAuth()}\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nconst NavigationAuth = (firebase) => {\r\n  return (\r\n    <div>\r\n      <Button color=\"inherit\" component={Link} to=\"/\">\r\n        Home\r\n      </Button>\r\n      <Button color=\"inherit\" component={Link} to=\"/profile\">\r\n        Profile\r\n      </Button>\r\n      <Button color=\"inherit\" component={Link} to=\"/create\">\r\n        Create\r\n      </Button>\r\n      <Button\r\n        color=\"inherit\"\r\n        component={Link}\r\n        to=\"/\"\r\n        onClick={firebase.doSignOut}\r\n      >\r\n        Signout\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NavigationNonAuth = () => {\r\n  return (\r\n    <div>\r\n      <Button color=\"inherit\" component={Link} to=\"/login\">\r\n        Login\r\n      </Button>\r\n      <Button color=\"inherit\" component={Link} to=\"/signup\">\r\n        Signup\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n \r\nexport default withFirebase(withAuth(Navigation));","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\profile.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\forpass.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\running.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\landing.js",["94"],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\passchange.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\signup.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\login.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\completed.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\pages\\create.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\context.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\index.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Firebase\\firebase.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Signup.js",["95","96"],"import React, { Component } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = {\r\n  paper: {\r\n    marginTop: \"8px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: \"4px\",\r\n    backgroundColor: \"#009688\",\r\n  },\r\n  form: {\r\n    width: \"100%\", \r\n    marginTop: \"16px\",\r\n  },\r\n  submit: {\r\n    margin: \"16px 0px 8px\",\r\n  },\r\n};\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  password: \"\",\r\n  name:\"\",\r\n  error: null,\r\n};\r\n\r\nclass SignUpBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n  onSubmit=(event)=>{\r\n    const {email,password}=this.state;\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, password)\r\n        .then(authUser => {\r\n          console.log(authUser.user.uid);\r\n          const newUser={\r\n            email:this.state.email,\r\n            name:this.state.name,\r\n            image:\"https://www.kindpng.com/picc/m/24-248253_user-profile-default-image-png-clipart-png-download.png\",\r\n          }\r\n          console.log(newUser);\r\n          // console.log(this.props.firebase.db.collection(\"users\"));\r\n          this.props.firebase.db\r\n          .doc(`/users/${authUser.user.uid}`)\r\n          .set(newUser)\r\n        })\r\n        .then(()=>{\r\n          this.setState({ ...INITIAL_STATE });\r\n          this.props.history.push('/');\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          this.setState({ error });\r\n        });\r\n\r\n        event.preventDefault();\r\n\r\n  }\r\n\r\n  onChange=(event)=>{\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    console.log(event);\r\n    console.log(event.target.name);\r\n    console.log(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={this.onSubmit}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"name\"\r\n                  label=\"Full Name\"\r\n                  name=\"name\"\r\n                  autoComplete=\"name\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Enter Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link href=\"/login\" variant=\"body2\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}>\r\n          <Copyright />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUp = withRouter(withFirebase(withStyles(useStyles)(SignUpBase)));\r\n\r\nexport default SignUp;","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Login.js",["97","98","99"],"import React, { Component } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { Alert } from 'react-alert'\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = {\r\n  paper: {\r\n    marginTop: \"8px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: \"4px\",\r\n    backgroundColor: \"#009688\",\r\n  },\r\n  form: {\r\n    width: \"100%\", \r\n    marginTop: \"16px\",\r\n  },\r\n  submit: {\r\n    margin: \"16px 0px 8px\",\r\n  },\r\n};\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  password: \"\",\r\n  error: null,\r\n};\r\n\r\nclass LoginBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n  onSubmit=(event)=>{\r\n    const {email,password}=this.state;\r\n    this.props.firebase\r\n    .doSignInWithEmailAndPassword(email, password)\r\n    .then( () => {\r\n        this.setState({...INITIAL_STATE});\r\n        this.props.history.push('/');\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n        this.setState({error});\r\n        alert(error.message+ \"\\nPlease try to login again!\");\r\n    })\r\n\r\n        event.preventDefault();\r\n\r\n  }\r\n\r\n  onChange=(event)=>{\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    // console.log(event);\r\n    // console.log(event.target.name);\r\n    // console.log(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={this.onSubmit}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Enter Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.onChange}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link href=\"/signup\" variant=\"body2\">\r\n                  Don't have an account? Sign Up\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}>\r\n          <Copyright />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst Login = withRouter(withFirebase(withStyles(useStyles)(LoginBase)));\r\n\r\nexport default Login;","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Create.js",["100","101","102","103","104","105","106","107"],"import React, { Component } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\n\r\nimport {withAuth} from './Session';\r\nimport { withFirebase } from \"./Firebase\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n\r\nconst useStyles = {\r\n  paper: {\r\n    marginTop: \"8px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: \"4px\",\r\n    backgroundColor: \"#009688\",\r\n  },\r\n  form: {\r\n    width: \"100%\", \r\n    marginTop: \"16px\",\r\n  },\r\n  submit: {\r\n    margin: \"16px 0px 8px\",\r\n  },\r\n};\r\n\r\nconst INITIAL_STATE = {\r\nquestion:\"\",\r\noptions:[''],\r\nfinish : \"\",\r\nerror: null,\r\n};\r\n\r\n\r\n\r\nclass Create extends Component {\r\n\r\n  onSubmit=(event)=>{\r\n    var userId = this.props.authUser.uid;\r\n    console.log(userId);\r\n    event.preventDefault();\r\n    var newSurvey= this.props.firebase.db.collection(\"surveys\").doc();\r\n    console.log(newSurvey.id);\r\n    const surveyVal={\r\n      question : this.state.question,\r\n      finish:this.state.finish,\r\n    }\r\n    newSurvey.set(surveyVal)\r\n    .then(()=>{\r\n      console.log(\"Success1\");\r\n    })\r\n    .catch((error)=>{\r\n      console.log(error);\r\n    })\r\n    var flag=0;\r\n    for (var i = 0; i < this.state.options.length; i++) {\r\n      var newOption =newSurvey.collection(\"options\").doc();\r\n      const optionVal={\r\n        text:this.state.options[i],\r\n        vote:0,\r\n      }\r\n      newOption.set(optionVal)\r\n      .then(()=>{\r\n        flag++;\r\n        console.log(`success${i}`);\r\n        if(flag==this.state.options.length)\r\n          this.props.history.push('/');\r\n      })\r\n      .catch((error)=>{\r\n        console.log(error);\r\n      })\r\n    } \r\n\r\n    var userRef = this.props.firebase.db.collection('users').doc(userId);\r\n    var ar = [];\r\n    var obj = {};\r\n    userRef.get().then((doc) => {\r\n      if(doc.exists)\r\n      {\r\n        obj=doc.data();\r\n        console.log(obj)\r\n        if(doc.data().surveyId)\r\n        {\r\n          ar = doc.data().surveyId;\r\n        }\r\n        ar.push(newSurvey.id)\r\n        obj.surveyId = ar;\r\n        userRef.set(obj);\r\n\r\n      }\r\n      else \r\n      {\r\n        console.log(\"Problem\");\r\n      }\r\n    }).catch((error) => {\r\n      console.log(\"Error getting document:\", error);})\r\n  }\r\n    handleQues=(event)=>{\r\n        this.setState({ question : event.target.value });\r\n    }\r\n    \r\n    addOption = e => {\r\n        e.preventDefault()\r\n        let options = this.state.options.concat([''])\r\n        this.setState({\r\n          options\r\n        })\r\n    }\r\n    handleText = i => e => {\r\n        let options = [...this.state.options]\r\n        options[i] = e.target.value\r\n        this.setState({\r\n          options\r\n        })\r\n      }\r\n    handleDelete = i => e => {\r\n    e.preventDefault()\r\n    let options = [\r\n        ...this.state.options.slice(0, i),\r\n        ...this.state.options.slice(i + 1)\r\n    ]\r\n    this.setState({\r\n        options\r\n    })\r\n    }\r\n\r\n    handleFinish =e=>{\r\n        e.preventDefault();\r\n        this.setState({finish : e.target.value});\r\n    }\r\n    constructor(props) {\r\n      super(props);\r\n        this.state = { ...INITIAL_STATE };\r\n    }  \r\n    render() {\r\n      const { classes } = this.props;\r\n      return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n           <form onSubmit={this.onSubmit}>\r\n            <Grid container spacing={2}>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"ques\"\r\n                    label=\"Question\"\r\n                    name=\"question\"\r\n                    autoComplete=\"question\"\r\n                    onChange={this.handleQues}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    Number\r\n                    fullWidth\r\n                    id=\"finish\"\r\n                    label=\"Finish Time\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    name=\"finish\"\r\n                    autoComplete=\"finish\"\r\n                    type = \"date\"\r\n                    onChange={this.handleFinish}\r\n                  />\r\n                </Grid>\r\n                <br/>\r\n                {this.state.options.map((option, index) => (\r\n                <span key={index}>\r\n                    <br/>\r\n                    <Grid item xs={12}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        required\r\n                        Number\r\n                        fullWidth\r\n                        id=\"finish\"\r\n                        label=\"Option\"\r\n                        name=\"option\"\r\n                        autoComplete=\"option\"\r\n                        onChange={this.handleText(index)}\r\n                      />\r\n                    </Grid>\r\n                    <Button\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={this.handleDelete(index)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                </span>\r\n                ))}\r\n                <br/>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={this.addOption}\r\n                  className={classes.submit}\r\n                >\r\n                  Add New Option\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  Submit\r\n                </Button>\r\n                </Grid>\r\n            </form>\r\n        </div>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n  export default withAuth(withRouter(withFirebase(withStyles(useStyles)(Create))));\r\n  ","D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\context.js",[],"D:\\SYSTEM DATA\\Desktop\\polling-app\\src\\components\\Session\\withAuthentication.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":13,"column":3,"nodeType":"114","messageId":"115","endLine":15,"endColumn":4},{"ruleId":"116","severity":1,"message":"117","line":1,"column":10,"nodeType":"118","messageId":"119","endLine":1,"endColumn":24},{"ruleId":"116","severity":1,"message":"120","line":6,"column":8,"nodeType":"118","messageId":"119","endLine":6,"endColumn":24},{"ruleId":"116","severity":1,"message":"121","line":7,"column":8,"nodeType":"118","messageId":"119","endLine":7,"endColumn":16},{"ruleId":"116","severity":1,"message":"120","line":6,"column":8,"nodeType":"118","messageId":"119","endLine":6,"endColumn":24},{"ruleId":"116","severity":1,"message":"121","line":7,"column":8,"nodeType":"118","messageId":"119","endLine":7,"endColumn":16},{"ruleId":"116","severity":1,"message":"122","line":14,"column":10,"nodeType":"118","messageId":"119","endLine":14,"endColumn":15},{"ruleId":"116","severity":1,"message":"123","line":2,"column":8,"nodeType":"118","messageId":"119","endLine":2,"endColumn":14},{"ruleId":"116","severity":1,"message":"120","line":6,"column":8,"nodeType":"118","messageId":"119","endLine":6,"endColumn":24},{"ruleId":"116","severity":1,"message":"121","line":7,"column":8,"nodeType":"118","messageId":"119","endLine":7,"endColumn":16},{"ruleId":"116","severity":1,"message":"124","line":8,"column":8,"nodeType":"118","messageId":"119","endLine":8,"endColumn":12},{"ruleId":"116","severity":1,"message":"125","line":10,"column":8,"nodeType":"118","messageId":"119","endLine":10,"endColumn":11},{"ruleId":"116","severity":1,"message":"126","line":11,"column":8,"nodeType":"118","messageId":"119","endLine":11,"endColumn":18},{"ruleId":"127","severity":1,"message":"128","line":77,"column":13,"nodeType":"129","messageId":"130","endLine":82,"endColumn":8},{"ruleId":"131","severity":1,"message":"132","line":80,"column":16,"nodeType":"133","messageId":"134","endLine":80,"endColumn":18},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-unused-vars","'QuestionAnswer' is defined but never used.","Identifier","unusedVar","'FormControlLabel' is defined but never used.","'Checkbox' is defined but never used.","'Alert' is defined but never used.","'Avatar' is defined but never used.","'Link' is defined but never used.","'Box' is defined but never used.","'Typography' is defined but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'flag', 'i', 'flag'.","ArrowFunctionExpression","unsafeRefs","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]